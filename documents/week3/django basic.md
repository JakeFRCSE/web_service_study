# Django ë¬¸ì„œì •ë¦¬ ì´ˆë³¸

> 
    django Tutorialì„ ë”°ë¼í•˜ë©´ì„œ ëª¨ë¥´ëŠ”ê²Œ ìƒê²¼ì„ë•Œ í•´ë‹¹ í˜ì´ì§€ ì°¾ì•„ë³´ê³  í•˜ë©´ì„œ ê³µë¶€í•˜ê¸°.


# 1. Django Projectì˜ ê¸°ë³¸ì ì¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

<<`django-admin startproject` ë¥¼ ì´ìš©í•´ì„œ ì²˜ìŒ projectë¥¼ ìƒì„±í–ˆì„ë•Œ ìƒì„±ë˜ëŠ” í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì˜ êµ¬ì¡°>> 

![ìŠ¤í¬ë¦°ìƒ· 2024-10-18 ì˜¤ì „ 1.33.44.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_1.33.44.png)

- [manage.py](http://manage.py) â‡’ Django projectì™€ ì—¬ëŸ¬ ë°©ë©´ìœ¼ë¡œ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì»¤ë§¨ë“œë¼ì¸ ìœ í‹¸ë¦¬í‹°. `python manage.py [ë­ì‹œê¸°ë­ì‹œê¸°]` ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
- mysite/ â‡’ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ Python packageë“¤ì´ ë“¤ì–´ìˆëŠ” í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì´ë‹¤. ì´ ë””ë ‰í† ì˜ ë‚´ë¶€ì— ìˆëŠ” íŒŒì¼ë“¤ì„ python packageì²˜ëŸ¼ í•„ìš”í•œ ê³³ì— importí•´ì„œ ì‚¬ìš©í•  ìˆ˜. ã…£ã…†ë‹¤.
    - mysite/__init__.py â‡’ í•´ë‹¹ íŒŒì¼ì´ ì†í•œ ë””ë ‰í† ë¦¬ê°€ python packageì²˜ëŸ¼ ë‹¤ë¤„ì§€ë„ë¡ í•´ì¤€ë‹¤.
    - mysite/[asgi.py](http://asgi.py) â‡’ ASGIí˜¸í™˜ ì›¹ ì„œë²„ì˜ ì§„ì…ì 
    - mysite/[wsgi.py](http://wsgi.py) â‡’ WSGIí˜¸í™˜ ì›¹ ì„œë²„ì˜ ì§„ì…ì 
        - wsgi : Web Server Gateway Interface
        - asgi : Asynchronous Gateway Interface (wsgiì˜ ë¹„ë™ê¸° ìš”ì²­ì— ëŒ€í•œ ë‹¨ì ì„ ë³´ì™„)
    - ë‘˜ ë‹¤ python applicationì´ ì›¹ ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ í†µì‹  ê·œì•½ì´ë‹¤.
    - mysite/settings.py â‡’ Django projectë¥¼ ìœ„í•œ ì „ì²´ì ì¸ settings/configurationë‚´ìš©ì„ ë‹´ê³  ìˆë‹¤.
    - mysite/urls.py â‡’ Django projcetì—ì„œ ì“°ì´ëŠ” urlë“¤ì„ ëª¨ì•„ë†“ì€ ê²ƒ. â€œTable of contents of Django-poweredâ€
        - `include()` ë¥¼ ì´ìš©í•´ì„œ projectì—ì„œ ì‚¬ìš©í•˜ëŠ” appì˜ urls.pyë¡œ ì œì–´ë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.



> 

    APP VS PROJECT

    â‡’ django appì€ íŠ¹ì • ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” web application, django projectëŠ” ì›¹ì‚¬ì´íŠ¸ë¥¼ ìœ„í•œ appê³¼ configuration, settingë“¤ì„ ëª¨ì•„ë†“ì€ ê²ƒ.

    â‡’ í•˜ë‚˜ì˜ projectì—ëŠ” ì—¬ëŸ¬ê°œì˜ appì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.

    â‡’ ì˜ˆë¥¼ ë“¤ë©´ naverëŠ” project ë¸”ë¡œê·¸, ì´ë©”ì¼ ë“±ì€ naver projectë¥¼ êµ¬ì„±í•˜ëŠ” app 

    â‡’ projectì— appì„ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´ `python manage.py startapp [app-name]` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ë©´ ë¨.

    



# 2. Djangoì˜ ê¸°ë³¸êµ¬ì¡° (MVT)

â‡’ django í”„ë ˆì„ì›Œí¬ëŠ” MVT(Model - View - Template)íŒ¨í„´ì„ ë”°ë¥¸ë‹¤. 



# MVT íŒ¨í„´ 

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-19 á„‹á…©á„’á…® 12.50.11.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-19_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_12.50.11.png)
>
    1. í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ì„ ë°›ìœ¼ë©´ URLconfë¥¼ ì´ìš©í•˜ì—¬ URLì„ ë¶„ì„í•œë‹¤. 
    
        â‡’ ì¼ë‹¨ ì²˜ìŒ ìš”ì²­ì„ ë°›ìœ¼ë©´ settings.pyì— ìˆëŠ” ROOT_URLCONFë¡œ ì´ë™í•´ì„œurlpatternsì— ë§¤í•‘í•  urlì„ ì°¾ëŠ”ë‹¤. 
    
    2. ë§¤í•‘í•  urlì„ ì°¾ì•˜ìœ¼ë©´ í•´ë‹¹ ìš”ì²­ì„ ì²˜ë¦¬í•  viewë¥¼ ì„ íƒí•œë‹¤.
    3. í•´ë‹¹ viewëŠ” ìì‹ ì˜ logicì„ ì‹¤í–‰í•˜ë©´ì„œ ë°ì´í„° ë² ì´ìŠ¤ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë©´ Modelì„ ì´ìš©í•´ì„œ ì²˜ë¦¬í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜ ë°›ëŠ”ë‹¤. 
    4. viewëŠ” ìì‹ ì˜ logicì´ ëë‚˜ë©´ templateì„ ì´ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•  html responseë¥¼ ìƒì„±. 
    5. í•´ë‹¹ responseë¥¼ clientì—ê²Œ ë³´ë‚´ë©´ì„œ ì‘ë‹µ. 


## 2-1. Model

### a. ORM

- ORM(Object Relational Mapping)ì´ë€ ê°ì²´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ Mapping ì‹œì¼œ ì£¼ëŠ” ê²ƒì„ ë§í•œë‹¤. 

`ê°ì²´(Model) â†” ORM â†” DB`   ì´ë•Œ ê°ì²´ê°€ Modelì´ë‹¤. 

- ë¡œì§ì„ êµ¬ì„±í•˜ë©´ì„œ CRUDë¥¼ ìœ„í•´ SQLì„ ì‘ì„±í•  í•„ìš”ì—†ì´ ê°ì²´ë¥¼ ì •ì˜í•˜ê³  ORMì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤(ë©”ì„œë“œ)ë¥¼ ì´ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ì— ì‰½ê²Œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. 

### b. [models.py](http://models.py)

- projectì˜ ê° appì—ëŠ” [models.py](http://models.py)ë¼ëŠ” íŒŒì¼ì´ ìˆë‹¤. í•´ë‹¹ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆë¥¼ í´ë˜ìŠ¤ í˜•íƒœë¡œ ì •ì˜í•œë‹¤.  

- `python manage.py startapp [app-name]` ì„ ì´ìš©í•´ì„œ appì„ ìƒì„±í•˜ë©´ ë‚´ë¶€ì— models.pyë¼ëŠ” íŒŒì¼ì´ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í•´ë‹¹ íŒŒì¼ì— ì›í•˜ëŠ” í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆë¥¼ í´ë˜ìŠ¤í˜•íƒœë¡œ ì •ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤. 

- ì •ì˜ë§Œ í•œë‹¤ê³  DBì— ë°”ë¡œ ë°˜ì˜ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. migrationì„ í†µí•´ì„œ [models.py](http://models.py)ì—ì„œ ì •ì˜í•œ ê²ƒì„ DBì— ë°˜ì˜í•´ ì¤˜ì•¼í•œë‹¤. <br/><br/><br/><br/>



#### models.pyì—ì„œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì •ì˜í•˜ê³  migrationì„ í†µí•´ì„œ DBì— ë°˜ì˜í•˜ê¸° 

1. [models.py](http://models.py)ì— model ì •ì˜ (í˜¹ì€ ìˆ˜ì •/ì‚­ì œ)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 6.00.35.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.00.35.png)

-  ê° modelì€ django.db.models.Modelì„ ìƒì†ë°›ì•„ì•¼ í•œë‹¤.<br/><br/>

2. `python manage.py makemigrations [app-name]` ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ migrationíŒŒì¼ ìƒì„±í•´ì£¼ê¸°

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 5.58.29.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.58.29.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 6.04.59.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.04.59.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 6.05.33.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.05.33.png)

- polls.migrationsì— 0001_initial.py íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

- `python manage.py makemigrations [app-name]` ì—ì„œ íŠ¹ì • ì•±ì„ ì§€ì¹­í•´ì£¼ì§€ ì•Šì•„ë„ ë˜ì§€ë§Œ ê·¸ë ‡ê²Œ ë˜ë©´ ì˜ë„ì¹˜ ì•Šì€ migrationë„ ìƒì„±ë  ìˆ˜ ìˆì–´ì„œ ê°€ê¸‰ì ì´ë©´ íŠ¹ì • appì„ ì§€ì¹­í•´ ì£¼ì. <br/><br/>

3. `python manage.py migrate [app-name` ì´ìš©í•´ì„œ ìƒì„±í•œ migrationì„ ì‹¤ì œ DBì— ë°˜ì˜í•´ ì¤€ë‹¤.
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 6.11.51.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.11.51.png)
    
<br/><br/>

## c. migration

 `migrations` ì— ëŒ€í•´ì„œ ì¢€ ë” ì•Œì•„ë³´ì 

### migrationsì´ë€
>
    - djangoì—ì„œ migrationsì´ë€ modelì˜ ë³€ê²½ì‚¬í•­ì„ DBì— ì „íŒŒí•˜ëŠ” djangoì˜ ë°©ë²•ì´ë‹¤. 

    - DB shcemaë¥¼ gitì²˜ëŸ¼ ë²„ì „ìœ¼ë¡œ ë‚˜ëˆ ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

    - `makemigrations` ë¥¼ ì´ìš©í•´ì„œ ìƒˆë¡œìš´ ë²„ì „ì˜ schemaë¥¼ ìƒì„±í•  ìˆ˜ ìˆê³  `migrate` ë¥¼ ì´ìš©í•´ì„œ ìƒˆë¡œ ìƒì„±í•œ schamaë¥¼ ì ìš©í•˜ê±°ë‚˜ ì´ì „ ë²„ì „ìœ¼ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆë‹¤. 

### ì£¼ìš” ëª…ë ¹ì–´
> 

    1. `python manage.py makemigrations [app-name]` 
    
        - djangoì—ê²Œ ë‚´ modelì— ë³€ê²½ì‚¬í•­ì´ ìƒê²¼ë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.
    
        - modelë³€ê²½ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ migrationíŒŒì¼ì„ ìƒì„± 
    
        - ì´ë•Œ [app-name]ì„ ìƒëµí•˜ë©´ ì „ì²´ appì— ëŒ€í•´ì„œ ì‹¤í–‰ëœë‹¤. ë‹¤ë§Œ ì´ë ‡ê²Œ í•  ì‹œì— ì˜ˆìƒì¹˜ ëª»í•œ migrationì´ ìƒì„±ë  ìˆ˜ë„ ìˆì–´ì„œ app-nameì„ ì§€ì •í•´ì„œ ì˜ˆìƒì¹˜ ëª»í•œ migrationìƒì„±ì„ ë°©ì§€í•˜ì.
    

    2. `python manage.py migrate [app-name]` 
    
        - ìƒì„±í•œ migrationì„ ì‹¤ì œ DBì— ì ìš© í˜¹ì€ ì ìš©í•œ migrationì„ DBì—ì„œ ì ìš© í•´ì œ í• ë•Œ ì‚¬ìš©í•œë‹¤. 
    
    

    
    ì ìš©í•œ migrationì„ DBì—ì„œ ì ìš© í•´ì œ.
    
    << ì ìš© >>
    
    â‡’ ìœ„ì— ì°¸ê³ 
    
    << í•´ì œ >> ##ì˜ì¡´ì„± ( dependencies) ì–˜ê¸°ë„ í•´ì¤˜ì•¼ í•œë‹¤. 
    
    `python manage.py manage.py [app-name] [ì ìš©í•˜ê³ ì í•˜ëŠ” ì´ì „ ë²„ì „ migration ë²ˆí˜¸]` 
    
    - ì˜ˆì‹œ
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 7.58.09.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_7.58.09.png)
    
    í˜„ì¬ 0002ë²ˆì§¸ migrationì´ ì ìš© ë˜ì–´ ìˆëŠ”ë° 0001 ë²„ì „ìœ¼ë¡œ ë°”ê¾¸ê³  ì‹¶ë‹¤. 
    
    1. `python manage.py migrate polls 0001` 
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 8.01.16.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.01.16.png)
        
        <br/><br/>
        
    2. 0002ë²ˆ migrationíŒŒì¼ì„ ì‚­ì œí•´ ì¤€ë‹¤.
    
    â€¼ï¸ì£¼ì˜â€¼ï¸
    
    ê° migrationì€ ì´ì „ ë²„ì „ì— ëŒ€í•´ ì˜ì¡´ì„±ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— íŠ¹ì • migrationíŒŒì¼ì€ ì ˆëŒ€ í•¨ë¶€ë¡œ ì‚­ì œ í•˜ë©´ ì•ˆë˜ê³  ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ ê¼­ ì´ì „ ë²„ì „ì˜ migrationì„ ì ìš©í•œ ë‹¤ìŒ ì‚­ì œí•´ì•¼ í•œë‹¤. 
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 8.12.58.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.12.58.png)
    
    ìœ„ëŠ” ì¢€ì „ì— ì‚­ì œí•œ 0002ë²ˆ migrationíŒŒì¼ì˜ ë‚´ìš©ì´ë‹¤. 
    
    0002ë²ˆ migrationíŒŒì¼ì„ ì‚­ì œí•˜ê³ ì í•œë‹¤ë©´ ê¼­ 0001íŒŒì¼ì„ ë¨¼ì € ì ìš© í•œ í›„ ì‚­ì œí•´ì•¼ í•œë‹¤.
    
    
    <br/><br/><br/><br/>

1. `python manage.py sqlmigrate [app-name] [migration-name]`

`[migration-name]` ì— í•´ë‹¹í•˜ëŠ” migrationì´ ì–´ë–¤ sql êµ¬ë¬¸ìœ¼ë¡œ ì‹¤í–‰ ë˜ëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 8.16.44.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.16.44.png)

<aside>

Example - Django Tutorialì—ì„œ ë§Œë“  modelê°€ì§€ê³  ì‹¤í—˜

```python
BEGIN;
--
-- Create model Question
--
CREATE TABLE "polls_question" (
    "id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, 
    "question_text" varchar(200) NOT NULL, 
    "pub_date" datetime NOT NULL
);
--
-- Create model Choice
--
CREATE TABLE "polls_choice" (
    "id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, 
    "choice_text" varchar(200) NOT NULL, 
    "votes" integer NOT NULL, 
    "question_id" bigint NOT NULL REFERENCES "polls_question" ("id") DEFERRABLE INITIALLY DEFERRED
);

CREATE INDEX "polls_choice_question_id_c5b4b260" ON "polls_choice" ("question_id");
COMMIT;
```

â‡’ terminalìƒì˜ outputì„ ë³´ê¸°ì¢‹ê²Œ ì •ë¦¬í•œ ê²ƒ. 

`"polls_choice"`ì„ ë³´ë©´ 4ë²ˆì§¸ ìš”ì†Œì— `question_id`ë¼ëŠ” ìš”ì†Œê°€ ìˆë‹¤. ì´ëŠ” Choice modelì´ ê°€ì§€ê³  ìˆëŠ” foreignkey(fk)ì´ë‹¤. 

djangoì˜ ê´€ìŠµ(convention)ì— ë”°ë¥´ë©´ fkí•„ë“œì˜ ì´ë¦„ì— _idë¥¼ ë¶™ì—¬ì¤€ë‹¤. 

ì¦‰, í•´ë‹¹ ì‚¬ì‹¤ë¡œ choice tableì€ question tableì— ëŒ€í•˜ì—¬ fkë¥¼ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.on

</aside>

1. `python manage.py showmigrations [app-name]` 

`[app-name]` ì— ëŒ€í•œ migration ì ìš© ì—¬ë¶€ë¥¼ í•œëˆˆì— ë³´ì—¬ì¤€ë‹¤. 

`[app-name]` ì„ ìƒëµí•˜ë©´ ì „ì²´ projectì— ëŒ€í•œ migration ì ìš© ì—¬ë¶€ë¥¼ í•œëˆˆì— ë³´ì—¬ì¤€ë‹¤. 

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 8.18.49.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.18.49.png)

## 2-2. View & [urls.py](http://urls.py)

### view

- djangoì—ì„œ viewëŠ” ì›¹í˜ì´ì§€ì™€ ì½˜í…ì¸ ë“¤ì„ ì „ë‹¬í•œë‹¤. ê° viewëŠ” python functioní˜¹ì€ method(í´ë˜ìŠ¤ ê¸°ë°˜ viewì¼ë•Œ)ë¡œ í‘œí˜„ëœë‹¤.
- djangoëŠ” ìš”ì²­ëœ urlì„ URLconfë¥¼ ì´ìš©í•´ì„œ ë¶„ì„í•˜ê³  ì ì ˆí•œ viewë¥¼ ì„ íƒí•´ì„œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê³  templateê³¼ ë²„ë¬´ë ¤ ì „ë‹¬
- ê° viewëŠ” 2ê°€ì§€ì¤‘ í•˜ë‚˜ë¥¼ ìˆ˜í–‰í•œë‹¤.
    - ë‚´ìš©ì„ ë‹´ì•„ì„œ ì ì ˆí•œ ë‚´ìš©ì„ í¬í•¨í•œ `HttpResponse`ë¥¼ ë‚´ë³´ë‚¸ë‹¤.
    - `Http404` ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¨ë‹¤. (rasing an exception)
    - ì–´ì°Œëê±´ djangoëŠ” viewë¡œë¶€í„° HttpResponseë‚˜ exceptionì„ ì‘ë‹µë°›ê¸¸ ì›í•œë‹¤.
- ë˜í•œ viewëŠ” DBìƒì˜ ë‚´ìš©ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. (use Model interface)
- viewëŠ” template systemë˜í•œ ì´ìš©í•  ìˆ˜ ìˆë‹¤.
- viewëŠ” PDF, XML, ZIPíŒŒì¼ë“±ì„ ê·¸ë•Œê·¸ë•Œ ìƒì„± í•  ìˆ˜ ìˆê³  ì–´ë–¤ python libraryë“ ì§€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

1. [http://127.0.0.1:8000/polls/](http://127.0.0.1:8000/polls/) clientê°€ í•´ë‹¹ ìš”ì²­ìœ¼ë¥´ ë³´ë‚¸ë‹¤.

1. `ROOT_URLCONF` ì— í•´ë‹¹í•˜ëŠ” mysite/urls.pyë¡œ ì´ë™
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 9.39.04.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.39.04.png)
    

1. mysite/urls.pyì˜ urlpatternsì—ì„œ ìš”ì²­ê³¼ ì¼ì¹˜í•˜ëŠ” urlíŒ¨í„´ì´ ìˆëŠ”ì§€ í™•ì¸ 
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 9.39.35.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.39.35.png)
    

1. `include()` ì˜ ì§€ì‹œì— ë”°ë¼ polls/urls.pyë¥¼ ì°¸ì¡° 
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 10.43.49.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.43.49.png)
    

1. ìš”ì²­ urlí˜•ì‹ì´ [`http://127.0.0.1:8000/polls/`](http://127.0.0.1:8000/polls/)  ì˜€ìœ¼ë¯€ë¡œ path(â€™ â€˜ )ì™€ ë§¤ì¹­ë˜ê³  views.indexë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.

1. ìš”ì²­ì— ë§ëŠ” ì ì ˆí•œ ë¡œì§ì„ ìˆ˜í–‰ (views.index)í•˜ê³   HttpResponseë¥¼ clientì— ì „ë‹¬.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-18 á„‹á…©á„’á…® 10.46.14.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.46.14.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 10.16.36.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.16.36.png)

<aside>
ğŸ’¡

`path()`

- django.urlsì˜ ë©”ì„œë“œ
- TheÂ [**`path()`**](https://docs.djangoproject.com/en/5.1/ref/urls/#django.urls.path)Â function expects at least two arguments:Â **`route`**Â andÂ **`view`**
- `path()` ë©”ì„œë“œëŠ” 2ê°œì˜ parameterë¥¼ í•„ìˆ˜ë¡œ ìš”êµ¬í•œë‹¤. `path(route, view)`
    - route : urlíŒ¨í„´ì„ ê°€ì§„ ë¬¸ìì—´
    - view : HttpRequest ê°ì²´ë¥¼ ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ í•˜ê³ , ê²½ë¡œë¡œ ë¶€í„° ìº¡ì³ëœ ê°’ì„ í‚¤ì›Œë“œ ì¸ìˆ˜ë¡œ í•˜ì—¬ íŠ¹ì •í•œ view í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
- ì´ë•Œ angle bracketì„ ì‚¬ìš©í•´ì„œ path(â€<int: question_id>â€) ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ë©´ djangoëŠ” ì´ë¶€ë¶„ì„ ìº¡ì³í•´ì„œ í‚¤ì›Œë“œ ì¸ìˆ˜ë¡œ ë³´ë‚¸ë‹¤.

`include()`

- django.urlsì˜ ë©”ì„œë“œ
- ë‹¤ë¥¸ appì˜ URLconfsë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì¦‰, ë‹¤ë¥¸ appì˜ urls.pyì˜ urlpatternsë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œí•œë‹¤.
- ìœ„ ì˜ˆì œì—ì„œëŠ” include(â€™polls.urlsâ€™)ì´ë ‡ê²Œ ì“°ì˜€ìœ¼ë¯€ë¡œ ìš”ì²­ì´ [`http://127.0.0.1:8000/polls/`](http://127.0.0.1:8000/polls/) ì´ëŸ°ì‹ìœ¼ë¡œ ë“¤ì–´ì™”ë‹¤ë©´ polls appì˜ urls.pyíŒŒì¼ë¡œ ì œì–´ë¥¼ ë„˜ê²¨ì„œ ê±°ê¸° ìˆëŠ” urlpatternsì—ì„œ ì¼ì¹˜í•˜ëŠ” urlíŒ¨í„´ ì°¾ê¸°ë¥¼ ì‹œë„í•œë‹¤.
- djangoëŠ” include()ë¥¼ ë§Œë‚˜ì„œ ë§¤ì¹­ì´ë˜ë©´ urlì— ë§¤ì¹­ì´ëœ í¬ì¸íŠ¸ê¹Œì§€ëŠ” ì§œë¥´ê³  ë‚¨ì€ ë¶€ë¶„ì„ ì „ë‹¬í•œë‹¤.
    - Ex) urlìš”ì²­ì´ `http://127.0.0.1:8000/polls/abc` ì˜€ë‹¤ë©´ `path('polls/', include(polls.urls)`)ì— ë§¤ì¹­ëœë‹¤. ì´ë•Œ polls.urlsì— urlì„ ë„˜ê¸¸ë•Œ pollsê¹Œì§€ ì§œë¥´ê³  /abcë¶€ë¶„ì„ polls.urlsë¡œ ë³´ë‚¸ë‹¤.
    - In django tutorial step3
        - When somebody requests a page from your website â€“ say, â€œ/polls/34/â€, Django will load theÂ **`mysite.urls`**Â Python module because itâ€™s pointed to by theÂ [**`ROOT_URLCONF`**](https://docs.djangoproject.com/en/5.1/ref/settings/#std-setting-ROOT_URLCONF)Â setting. It finds the variable namedÂ **`urlpatterns`**Â and traverses the patterns in order. After finding the match atÂ **`'polls/'`**, it strips off the matching text (**`"polls/"`**) and sends the remaining text â€“Â **`"34/"`**Â â€“ to the â€˜polls.urlsâ€™ URLconf for further processing. There it matchesÂ **`'<int:question_id>/'`**, resulting in a call to theÂ **`detail()`**Â view
</aside>

### request

views.pyì— ì •ì˜ëœ í•¨ìˆ˜ë¥¼ ë³´ë©´ íŒŒë¼ë¯¸í„°ë¡œ requestë¼ëŠ” ê²ƒì„ ë°›ëŠ”ë‹¤. ì´ê²Œ ë¬´ì—‡ì¼ê¹Œ? 

<aside>
ğŸ’¡

djangoì—ì„œëŠ” responseì™€ requestê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒíƒœë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤. ì´ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì¹œë‹¤. 

1. íŠ¹ì • í˜ì´ì§€ê°€ requestë˜ë©´ djangoëŠ” HttpRequestê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
2. djangoëŠ” ìš”ì²­ì— ë”°ë¥¸ ì ì ˆí•œ views.pyíŒŒì¼ì˜ í•¨ìˆ˜(í˜¹ì€ í´ë˜ìŠ¤)ì— ì²«ë²ˆì§¸ ì¸ìë¡œ ìƒì„±í•œ HttpRequestê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤. 
3. í•´ë‹¹ viewëŠ” ê²°ê³¼ë¥¼ HttpResponseë‚˜ JsonResponseì— ë‹´ì•„ì„œ templateì— ì „ë‹¬ 

ìœ„ ì˜ˆì œì˜ views.index(request)í•¨ìˆ˜ì—ì„œ requestê°€ ë°›ëŠ” ê²ƒì´ í˜ì´ì§€ê°€ request ëì„ë•Œ djangoê°€ ìƒì„±í•œ HttpRequesetê°ì²´ì´ë‹¤.

</aside>

### Generic View

â‡’ django generic viewë€ djagnoì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” viewí´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.

â‡’ í™œìš© ìš©ë„ì— ë”°ë¼ì„œ `Listview` , `DetailView` , `FormView` ë“±ì´ ì¡´ì¬í•œë‹¤. 

## 2-3. Template

- Templateì„ ì´ìš©í•´ì„œ ì‚¬ìš©ìê°€ ë³´ëŠ” í˜ì´ì§€ë¥¼ ë””ìì¸í•  ìˆ˜ ìˆë‹¤. (djangoì˜ frontì ì¸ ìš”ì†Œ)

- prjectsì˜ settings.pyì—ì„œ Templateì€ djangoê°€ ì–´ë–»ê²Œ templateì„ loadingí•˜ê³  renderingí• ì§€ ì„œìˆ í•œë‹¤.
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 11.05.17.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.05.17.png)
    
- ìœ„ codeëŠ” Django Projectë¥¼ ìƒì„±í–ˆì„ë•Œì˜ defaultë¡œ ìƒê¸°ëŠ” TAMPLATEì´ë‹¤.

`BACKEND` : ì‚¬ìš©í•  django í…œí”Œë¦¿ ì—”ì§„ì„ ì§€ì •í•œë‹¤. ìœ„ ì½”ë“œì—ì„œëŠ” django ê¸°ë³¸ í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•œë‹¤.  

`DIRS` : ìˆœì„œëŒ€ë¡œ í…œí”Œë¦¿ ì—”ì§„ì´ í…œí”Œë¦¿ ì†ŒìŠ¤ë¥¼ ì°¾ì•„ë´ì•¼ í•˜ëŠ” ë””ë ‰í† ë¦¬ ëª©ë¡

`APP_DIRS` : í…œí”Œë¦¿ ì—”ì§„ì´ INSTALLED_APPì— ìˆëŠ” appë“¤ ì•ˆì—ì„œ í…œí”Œë¦¿ ì†ŒìŠ¤ íŒŒì¼ì„ ì°¾ì•„ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ì´ë‹¤.

`OPTIONS`  : í…œí”Œë¦¿ ë°±ì—”ë“œ(í…œí”Œë¦¿ ì—”ì§„)ì— ì „ë‹¬í•  ì¶”ê°€ì ì¸ ì˜µì…˜ì´ë‹¤. 

â‡’ ìœ„ ì„¤ì •ë“¤ì— ë”°ë¼ì„œ DjangoTemplatesì€ ê° appë“¤ì˜ í•˜ìœ„ ë””ë ‰í† ë¦¬ì—ì„œ â€œtemplatesâ€íŒŒì¼ë“¤ì„ ì°¾ì„ ê²ƒì´ë‹¤. 

### templateë§Œë“¤ì–´ë³´ê¸°

â‡’ ê¸°ë³¸ ì˜µì…˜ì€ ìœ„ì— TEMPLATESì— ì„¤ì • ë˜ì–´ìˆëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©

â‡’ django tutorial2ê¹Œì§€ ì§„í–‰í–ˆì„ë•Œì˜ ì™„ì„±ëœ djangoí”„ë¡œì íŠ¸ë¥¼ ì´ìš©í•œë‹¤. 

â‡’ polls.viewsì— ìˆëŠ” indexì— ëŒ€í•œ templateì„ ë§Œë“¤ì–´ë³´ì.

### 1. polls appë‚´ë¶€ì— templates í´ë” ìƒì„±

### 2. ìƒì„±í•œ templatesí´ë” ë‚´ë¶€ì— polls(ì•±ì´ë¦„ê³¼ ë™ì¼í•œ)í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— index.htmlíŒŒì¼ì„ ìƒì„±

â‡’ ì´ê¹Œì§€ì˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” `polls/templates/polls/index` ì´ë ‡ê²Œ ëœë‹¤.

ì´ë•Œ templatesí´ë” ì•ˆì— í˜„ì¬ appì˜ ì´ë¦„ì„ ë”´ í´ë”ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ ì¤¬ëŠ”ë° polls/templatesì— ë°”ë¡œ í…œí”Œë¦¿ì„ ë„£ì„ ìˆ˜ ìˆì§€ë§Œ ì´ë ‡ê²Œ í•œ ì´ìœ ê°€ ë­˜ê¹Œ? 

â‡’ djangoëŠ” ì´ë¦„ì´ ì¼ì¹˜í•˜ëŠ” ì²«ë²ˆì§¸ templateì„ ì„ íƒí•˜ë©° ì„œë¡œë‹¤ë¥¸ appì— ë™ì¼í•œ ì´ë¦„ì˜ templateì´ ìˆëŠ” ê²½ìš° djangoëŠ” ì´ë¥¼ êµ¬ë³„í•˜ì§€ ëª»í•œë‹¤. ê·¸ë˜ì„œ ì„œë¡œë‹¤ë¥¸ appì˜ templateì˜ ì´ë¦„ì¶©ëŒì„ í”¼í•˜ê³ ì templateì— í˜„ì¬ appì˜ ì´ë¦„ì„ë”´ í•˜ìœ„ í´ë”ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì£¼ê³  ê±°ê¸°ì— templateì„ ë„£ì–´ì¤€ë‹¤. 

### 3. templateì‘ì„±

```python
{% if latest_question_list %}
    <ul>
    {% for question in latest_question_list %}
        <li><a href="/polls/{{ question.id }}/">{{ question.question_text }}</a></li>
    {% endfor %}
    </ul>
{% else %}
    <p>No polls are available.</p>
{% endif %}
```

### 4. templateì„ ì ìš©í•˜ê³ ì í•˜ëŠ” viewì— templateì ìš©

```python
from .models import Question
from django.http import HttpResponse
from django.template import loader

def index(request):
    latest_question_list = Question.objects.order_by("-pub_date")[:5]

    template = loader.get_template("polls/index.html")
    context = {
        "latest_question_list": latest_question_list
    }

    return HttpResponse(template.render(context, request))
```

- `template = loader.get_template("polls/index.html")`
    
    â‡’ polls/index.htmlì„ ë¡œë“œí•´ì„œ templateì— ë‹´ëŠ”ë‹¤.
    
- `context = {"latest_question_list": latest_question_list)`
    
    â‡’ templateì— ì „ë‹¬í•  ë‚´ìš©ì„ ë§Œë“ ë‹¤.
    
- `return HttpResponse(template.render(context, request))`
    
    â‡’ contextë¥¼ templateì— ì „ë‹¬í•˜ê³  templateì€ ì´ë¥¼ ëœë”ë§í•˜ê³  ì´ ê²°ê³¼ë¥¼ HttpResponseê²°ê³¼ë¡œ ë°˜í™˜í•œë‹¤.
    
- ì´ë•Œ `request` ëŠ” `HttpRequest` ê°ì²´ë‹¤. ì•ˆì—ëŠ” í˜„ì¬ ìš”ì²­ëœ url, ì„¸ì…˜ ì •ë³´, ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í–ˆëŠ”ì§€ ì—¬ë¶€ ë“± ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë“¤ì´ ë‹´ê²¨ìˆë‹¤. templateì— requestë¥¼ ì „ë‹¬í•´ì¤˜ì•¼ì§€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìœ„ ì˜ˆì œì—ì„œëŠ” ì—†ì–´ë„ ìƒê´€ì—†ë‹¤.

### 4-1. viewì— templateì„ ì ìš©í•˜ëŠ” ì¡°ê¸ˆ ë” ê°„ë‹¨í•œ ë°©ë²•

```python
from django.shortcuts import render
from .models import Question

def index(request):
    latest_question_list = Question.objects.order_by("-pub_date")[:5]
    context = {"latest_question_list": latest_question_list}
    return render(request, "polls/index.html", context)
```

- `django.shortcuts.render()`ë¥¼ ì‚¬ìš©
- ë”°ë¡œ templateì„ ë¡œë”©í•˜ëŠ” ì½”ë“œë¥¼ ì§¤ í•„ìš”ê°€ ì—†ë‹¤.
    - `django.template.loader` ì™€ `django.http.HttpResponse` ê°€ í•„ìš”ì—†ë‹¤.
- `render()`
    - ì²«ë²ˆì§¸ ì¸ìë¡œ requestë¥¼ ê°€ì§„ë‹¤.
    - ë‘ë²ˆì§¸ ì¸ìë¡œ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” templateì„ ê°€ì§„ë‹¤.
    - ì„¸ë²ˆì§¸ë¡œ ì¶”ê°€ì ì¸ optionì„ dictionaryí˜•íƒœë¡œ ê°€ì§„ë‹¤.

# Django Admin

â‡’ DjangoëŠ” ì‚¬ìš©ìê°€ ì‰½ê²Œ ì½˜í…ì¸ ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì(admin)ì‚¬ì´íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. 

ê³µì‹ í™ˆí˜ì´ì§€ì— ë‚˜ì™€ìˆëŠ” tutorialì„ ë”°ë¼ê°€ ë³´ì

## #1. adminì‚¬ì´íŠ¸ì— ì ‘ì†í•  userìƒì„±

`python manage.py createsuperuser`

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.06.06.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.06.06.png)

## #2. ì„œë²„ í‚¤ê³  /admin/ ì ‘ì† í•´ë³´ê¸°

`127.0.0.1:8000/admin/` í•´ë‹¹ urlë¡œ ì ‘ì† í•˜ë©´ ì•„ë˜ì˜ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.08.04.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.08.04.png)

ì—¬ê¸°ì„œ ë³¸ì¸ì´ ì•„ê¹Œ ì‘ì„±í•œ Usernameê³¼ pwë¥¼ ê¸°ì…í•˜ê³  ë¡œê·¸ì¸í•˜ë©´ ì•„ë˜ì˜ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.08.58.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.08.58.png)

ì²˜ìŒ ì„¤ëª…ì„ ë³´ë©´ í•´ë‹¹ ì‚¬ì´íŠ¸ëŠ” ì½˜í…ì¸ ë¥¼ ì‰½ê²Œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¼ê³  í•˜ì˜€ìœ¼ë‚˜ Questionê³¼ Contentsê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. â‡’ appë‚´ë¶€ì˜ [admin.py](http://admin.py) íŒŒì¼ì— ëª¨ë¸(models.pyì— ì •ì˜í•´ ë‘” ê²ƒ)ì„ ë“±ë¡í•´ì¤˜ì•¼ ì •ìƒì ìœ¼ë¡œ ì½˜í…ì¸ ê°€ ë³´ì¸ë‹¤. 

```python
from django.contrib import admin

from .models import Question, Choice

admin.site.register(Question)
admin.site.register(Choice)
```

ì´ë ‡ê²Œ ë“±ë¡ì„ ì™„ë£Œí•´ì£¼ë©´ ì•„ë˜ í˜ì´ì§€ ì²˜ëŸ¼ Quesitonê³¼ Choiceê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.34.38.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.34.38.png)

ì´ì œ adminì‚¬ì´íŠ¸ë¥¼ í†µí•´ì„œ Questionê³¼ Choiceë¥¼ ìƒì„±í•´ë³´ê³  ì œëŒ€ë¡œ ìƒì„± ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë³´ì.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.38.11.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.38.11.png)

ì—¬ê¸°ì„œ save ë²„íŠ¼ì„ ëˆ„ë¥´ë©´

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.39.49.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.39.49.png)

ì´ë ‡ê²Œ ì˜ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆê³  ì•„ë˜ì— ë³´ì´ë“¯ì´ djangoì—ì„œ ì œê³µ model APIë¥¼ ì´ìš©í•´ì„œ í™•ì¸í•´ë„ ë³´ë“¯ì´ ì˜ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-20 á„‹á…©á„’á…® 5.41.30.png](Django%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5%20%E1%84%8E%E1%85%A9%E1%84%87%E1%85%A9%E1%86%AB%20122a18d08ab080ec9804d37b8ecfe471/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-20_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.41.30.png)

<aside>
ğŸ’¡

admin pageì— ëŒ€í•œ ì¶”ê°€ ë‚´ìš©

1. ê° fireldìœ í˜•ì— ë”°ë¼ djangoëŠ” ì ì ˆí•˜ê²Œ(ìë™ìœ¼ë¡œ) clientì—ê²Œ displayí•´ì„œ ë³´ì—¬ì¤€ë‹¤
2. ìƒˆë¡œìš´ contentë¥¼ createí• ë•Œ nowë²„íŠ¼ì„ ëˆŒë €ëŠ”ë° í˜„ì¬ ì‹œê°„ì´ ì ì ˆí•˜ê²Œ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ settings.pyì˜ TIME_ZONEì„¸íŒ…ì´ ë˜ì§€ ì•Šì•˜ì„ ê²ƒì´ë‹¤. ì ì ˆí•˜ê²Œ ì„¤ì •í•˜ê³  ë‹¤ì‹œ í™•ì¸í•´ë³´ì.
</aside>
